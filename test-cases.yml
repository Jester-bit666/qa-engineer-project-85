---
- summary: |
    Проверка регистрации при помощи email
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться при помощи email, GitHub или Discord
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
  test-data: |
    No data
  steps:
    - Открыть форму регистрации
    - Ввести имя в поле Nickname
    - Ввести почту в поле Email
    - Ввести пароль в поле Password
    - Ввести пароль повторно в поле Password Confirmation
    - Нажать Submit
  expected-result: |
    Пользователь успешно зарегистрирован

- summary: |
    Проверка регистрации при помощи GitHub
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться при помощи email, GitHub или Discord
  prerequisites: |
    Есть аккаунт в GitHub
    Открыта страница сайта https://codebattle.hexlet.io/
  test-data: |
    No data
  steps:
    - Открыть форму регистрации
    - Выбрать регистрацию при помощи GitHub
    - Ввести логин и пароль GitHub
  expected-result: |
    Регистрация при помощи GitHub прошла успешно

- summary: |
    Проверка регистрации при помощи Discord
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться при помощи email, GitHub или Discord
  prerequisites: |
    Есть аккаунт в Discord
    Открыта страница сайта https://codebattle.hexlet.io/
  test-data: |
    No data
  steps:
    - Открыть форму регистрации
    - Выбрать регистрацию при помощи Discord
    - Ввести логин и пароль Discord
  expected-result: |
    Регистрация при помощи Discord прошла успешно

- summary: |
    Проверка авторизации при помощи email
  requirement: |
    Пользователь должен иметь возможность авторизоваться при помощи email, GitHub или Discord
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь уже зарегистрирован
  test-data: |
    testQA@gmail.com
    password1
  steps:
    - Открыть форму авторизации
    - Ввести данные
    - Нажать Submit
  expected-result: |
    Авторизация прошла успешно

- summary: |
    Проверка авторизации при помощи GitHub и Discord
  requirement: |
    Пользователь должен иметь возможность авторизоваться при помощи email, GitHub или Discord
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь уже зарегистрирован
  test-data: |
    No data
  steps:
    - Открыть форму авторизации
    - Войти с помощью GitHub
    - Проверить авторизацию
    - Войти с помощью Discord
    - Проверить авторизацию
  expected-result: |
    Авторизация прошла успешно

- summary: |
    Проверка валидации регистрации при вводе некорректных данных
  requirement: |
    Пользователь должен иметь возможность авторизоваться при помощи email, GitHub или Discord
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
  test-data: |
    Nickname - JonDoe
    Email - JonDoe25
    Password - 12345678910JonDoe10987654321
    Password Confirmation - 12345678910JonDoe10987654321
  steps:
    - Открыть форму регистрации
    - Ввести Nickname, Email, Password и Password Confirmation
    - Нажать Submit
  expected-result: |
    Форма регистрации не должна пройти успешно. Должны появиться строки с ошибкой

- summary: |
    Проверка валидации авторизации, если поля вводы пусты
  requirement: |
    Пользователь должен иметь возможность авторизоваться при помощи email, GitHub или Discord
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
  test-data: |
    No data
  steps:
    - Открыть форму регистрации
    - Убедиться, что поля ввода пусты и нажать Submit
  expected-result: |
    Авторизация не должна пройти успешно. Появилась ошибка авторизации

- summary: |
    Проверка создания игры
  requirement: |
    Пользователь имеет возможность создать игру со своими параметрами
  prerequisites: |
     Открыта страница сайта https://codebattle.hexlet.io/
     Пользователь авторизован
  test-data: |
    No data
  steps:
    - Нажать Create A Game
    - Произвольно выбрать Level, Game Type, Time control, Choose task by name or tags
    - Нажать Create battle
  expected-result: |
    Игра успешно создалась с выбранными параметрами. На экране окно с игрой

- summary: |
    Проверка отмены созданной игры
  requirement: |
    Пользователь должен иметь возможность отменить созданную им игру
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Игра создана
  test-data: |
    No data
  steps:
    - Выйти в главное меню
    - Навестись на строку с созданной игрой
    - Нажать отменить
  expected-result: |
    Созданная игра отменена

- summary: |
    Проверка присоединения к сторонней игре
  requirement: |
    Пользователь должен иметь возможность присоединиться к сторонней игре
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    No data
  steps:
    - Присоединиться к любой игре нажа Fight
  expected-result: |
    Пользователь присоединился к игре. Видно окно игры

- summary: |
    Проверка общего чата
  requirement: |
    Пользователь может писать в общий и личный чат
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    No data
  steps:
    - Написать любое сообщение в общий чат
    - Нажать Send или нажать Enter
  expected-result: |
    Сообщение отправилось в общий чат
 
- summary: |
    Проверка личного чата
  requirement: |
    Пользователь может писать в общий и личный чат
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    No data
  steps:
    - Выбрать любого пользователя в списке пользователей
    - Нажать ЛКМ на имя пользователя
    - Выбрать Direct Message
    - Написать любое сообщение
    - Нажать Send или Enter
  expected-result: |
    Сообщение отправилось в личный чат

- summary: |
    Проверить чаты на уязвимость XSS
  requirement: |
    Пользователь может писать в общий и личный чат
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    <h1>Hello</h1>
  steps:
    - Написать тег в общий чат
    - Написать тег в личный чат
  expected-result: |
    В чате тег отображается, как и написан. Защита от XSS есть

- summary: |
    Проверка отправки приглашения в игру
  requirement: |
    Пользователь должен иметь возможность приглашать других пользователей в игру, принимать и отклонять приглашения других
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    No data
  steps:
    - Нажать на Create A Game
    - Выбрать любой Level
    - В Game type нажать With a friend
    - Выбрать любой Time control
    - В Choose opponent выбрать пользователя
    - Выбрать произвольно Choose task by name or tags
  expected-result: |
    Другому пользователю пришло приглашение

- summary: |
    Проверка принятия приглашения от другого пользователя
  requirement: |
    Пользователь должен иметь возможность приглашать других пользователей в игру, принимать и отклонять приглашения других
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Приглашение отправлено от другого пользователя
  test-data: |
    No data
  steps:
    - Нажать на кнопку со скрещенными мечами
    - Нажать Accept
  expected-result: |
    Пользователь присоединился к игре по приглашение от другого пользователя

- summary: |
    Проверка отклонения приглашения от другого пользователя
  requirement: |
    Пользователь должен иметь возможность приглашать других пользователей в игру, принимать и отклонять приглашения других
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Приглашение отправлено от другого пользователя
  test-data: |
    No data
  steps:
    - Нажать на кнопку со скрещенными мечами
    - Нажать Decline
  expected-result: |
    Приглашение от другого пользователя отклонено

- summary: |
    Проверка списка рейтинга игроков
  requirement: |
    Пользователю выводится подробный список рейтинга игроков, турниров и история игр
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    No data
  steps:
    - В таблице Leaderboard нажать Top list
  expected-result: |
    Выводится подробная таблица рейтинга

- summary: |
    Проверка списка турниров
  requirement: |
    Пользователю выводится подробный список рейтинга игроков, турниров и история игр
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    No data
  steps:
    - Нажать на вкладу Tournaments
    - Нажать Tournaments Info
    - Нажать Show на любой строке
  expected-result: |
    Выводится подробный список турниров и подробности через Show 

- summary: |
    Проверка списка истории игр
  requirement: |
    Пользователю выводится подробный список рейтинга игроков, турниров и история игр
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    No data
  steps:
    - Нажать на вкладку History
    - Нажать Show на любой игре
  expected-result: |
    Выводится история игр и подробности через Show

- summary: |
    Проверка создания турнира
  requirement: |
    Пользователь имеет возможность создать турнир
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    No data
  steps:
    - Нажать на вкладу Tournaments
    - Нажать Tournaments Info
    - Заполнить произвольно форму Create a new tournament
    - Нажать Create
  expected-result: |
    Создался турнир с учетом введенных данных

- summary: |
    Проверка фильтра рейтинга игроков
  requirement: |
    Пользователь может фильтровать рейтинг игроков и воспользоваться поиском по имени 
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    No data
  steps:
    - В таблице Leaderboard нажать Top list
    - Выбрать произвольно Users per page
    - Нажать галочку у With bots
    - Выбрать monthly или weekly
    - Нажать на Joined, чтобы отсортировать игроков по дате последнего входа по убыванию
    - Повторить действия с Rank, Rating, Games played
  expected-result: |
    Фильтр рейтинга работает правильно, сортировка работает

- summary: |
    Проверка поиска по имени в рейтинге игроков
  requirement: |
    Пользователь может фильтровать рейтинг игроков и воспользоваться поиском по имени
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    No data
  steps:
    - В таблице Leaderboard нажать Top list
    - В поле Username ввести произвольное имя пользователя
  expected-result: |
    Поиск работает правильно и выводит пользователя, имя которого ввели

- summary: |
    Проверка отображения окон с кодом
  requirement: |
    В игре пользователь должен видеть окно со своим кодом и кодом соперника
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Имеется игра, к которой можно присоединиться
  test-data: |
    No data
  steps:
    - Нажать Fight
  expected-result: |
    Пользователь подключился к игре. Отображается код пользователя и код сопернки

- summary: |
    Проверка отображения условия, времени и вывода задачи
  requirement: |
    В игре пользоветелю видно условие, время и вывод задачи
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Имеется игра, к которой можно присоединиться
  test-data: |
    No data
  steps:
    - Нажать Fight
  expected-result: |
    Пользователь подключился к игре. Отображается условие, вреия и вывод задачи

- summary: |
    Проверка смены языка программирования на доступные в списке
  requirement: |
    В игре пользователь имеет возможность поменять язык программирования
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Имеется игра, к которой можно присоединиться
  test-data: |
    No data
  steps:
    - Нажать Fight
    - Нажать на стрелочку рядом с языком программирования
    - Из выпадающего списка выбрать произвольный язык программирования
  expected-result: |
    Язык программирования сменился на выбранный

- summary: |
    Проверка чата в игре
  requirement: |
    В игре пользователь имеет возможность писать в чат
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Имеется игра, к которой можно присоединиться
  test-data: |
    No data
  steps:
    - Нажать Fight
    - Написать любое сообщение в поле чата
  expected-result: |
    Сообщение отправилось в чат

- summary: |
    Проверка запуска кода с верным решением
  requirement: |
    В игре пользователь имеет возможность сдаться, сбросить код и проверить решение кода
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Имеется игра, к которой можно присоединиться
  test-data: |
    No data
  steps:
    - Нажать Fight
    - Написать верный код
    - Нажать Run
  expected-result: |
    Происходит проверка кода. Выводится сообщение-результат о победе

- summary: |
    Проверка запуска кода с не верным решением
  requirement: |
    В игре пользователь имеет возможность сдаться, сбросить код и проверить решение кода
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Имеется игра, к которой можно присоединиться
  test-data: |
    No data
  steps:
    - Нажать Fight
    - Написать не верный код
    - Нажать Run
  expected-result: |
    Происходит проверка кода. Выводится сообщение о не верном коде

- summary: |
    Проверка возможности сдаться
  requirement: |
    В игре пользователь имеет возможность сдаться, сбросить код и проверить решение кода
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Имеется игра, к которой можно присоединиться
  test-data: |
    No data
  steps:
    - Нажать Fight
    - Нажать на три точки
    - Нажать Give up
  expected-result: |
    Выводится сообщение о том, что пользователь сдался и что победа досталась сопернику

- summary: |
    Проверка сброса кода
  requirement: |
    В игре пользователь имеет возможность сдаться, сбросить код и проверить решение кода
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Имеется игра, к которой можно присоединиться
  test-data: |
    No data
  steps:
    - Нажать Fight
    - Написать код
    - Нажать на три точки
    - Нажать Reset solution
  expected-result: |
    Написанный код сбросился

- summary: |
    Проверка адаптивности под разные мобильные устройства
  requirement: |
    Сайт должен быть удобным на мобильном устройстве
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Открыт Devtools
  test-data: |
    Различные мобильные устройства
  steps:
    - Открыть Toggle device toolbar
    - Проверить различные устройства
  expected-result: |
    Сайт адаптивен под мобильные устройства

- summary: |
    Проверка совместимости с другими браузерами
  requirement: |
    Сайт должен быть протестирован на совместимость с последними версиями браузеров
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/ на разных обновленных до последней версии браузерах
  test-data: |
    Google Chrome, Mozilla Firefox, Opera
  steps:
    - Проверить сайт на других браузерах
  expected-result: |
    Сайт совместим с последними версиями браузеров

- summary: |
    Проверка переходов между страницами
  requirement: |
    Переходы между страницами работают корректно
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
  test-data: |
    No data
  steps:
    - Произвольно лазать по страницам сайта
  expected-result: |
    Переходы работают корректно

- summary: |
    Проверка, остается ли пользователь при обновлении страницы на той же странице, на которой был
  requirement: |
    При обновлении страницы пользователь остаётся на той странице, на которой перезагружался
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    No data
  steps:
    - В таблице Leaderboard перейти в Top list
    - Перезагрузить страницу
  expected-result: |
    При перезагрузке страницы пользователь остался на той, на которой перезагружался
